!function(t){if(!t.SUBMODULES_VERSION){t.SUBMODULES_VERSION="1.0.0",t.SUBMODULES_VERNUM=0,t.namespaces={};class r{}class o{}t.require=function(r){return n(r),t.namespaces[r]},t.namespace=function(r,s){n(r);var e=new o;for(var i in s(e),e)t.namespaces[r][i]=e[i]}}function n(n){n in t.namespaces||(t.namespaces[n]=new e)}}(this),namespace("com.subnodal.i18n",(function(exports){exports.textDirections={LTR:0,RTL:1},exports.TranslationError=class extends Error{constructor(t){super(t),this.name="TranslationError"}},exports.TranslationString=class{constructor(){this.chooser=function(){return""}}static simple(t){var n=new exports.TranslationString;return n.chooser=function(){return t},n}static substitutive(t){var n=new exports.TranslationString;return n.chooser=function(n){var r=String(t);for(var o in n)r=r.split("{"+o+"}").join(n[o]);return r},n}static conditional(lookup){var conditionalTranslationString=new exports.TranslationString;return conditionalTranslationString.chooser=function(args,unformattedArgs){for(var condition in lookup){var substitutedCondition=String(condition);for(var arg in unformattedArgs)substitutedCondition=substitutedCondition.split("{"+arg+"}").join(unformattedArgs[arg]);if(eval(substitutedCondition)){var substitutedString=lookup[condition];for(var arg in args)substitutedString=substitutedString.split("{"+arg+"}").join(args[arg]);return substitutedString}}},conditionalTranslationString}},exports.Locale=class{constructor(t,n,r=null,o=exports.textDirections.LTR){this.code=t,this.name=n,this.nameShort=r||this.name,this.textDirection=o,this.strings={}}static fromJson(t,n){var r=new exports.Locale(t,n.name,n.nameShort,"rtl"==n.textDirection?exports.textDirections.RTL:exports.textDirections.LTR);for(var o in n.strings)"object"==typeof n.strings[o]?r.strings[o]=exports.TranslationString.conditional(n.strings[o]):r.strings[o]=exports.TranslationString.substitutive(String(n.strings[o]));return r}},exports.I18n=class{constructor(t,n="en_GB"){this.localeCode=t,this.fallbackLocaleCode=n,this.locales=[]}getLocale(t=null){t=t||this.localeCode;for(var n=0;n<this.locales.length;n++)if(this.locales[n].code==t)return this.locales[n]}formatValue(t,n={},r=null){return r=r||this.localeCode,"number"==typeof t?Number(t).toLocaleString(r.replace(/_/g,"-"),n):t instanceof Date?t.toLocaleString(r.replace(/_/g,"-"),n):t}translate(t,n=[],r=!0,o={}){"object"!=typeof n&&(n=[n]);var s=null;if(null!=this.getLocale()&&null!=this.getLocale().strings[t])s=this.getLocale().strings[t];else{if(null==this.getLocale(this.fallbackLocaleCode)||null==this.getLocale(this.fallbackLocaleCode).strings[t])throw new exports.TranslationError("Tried to use fallback locale, but fallback locale does not exist");s=this.getLocale(this.fallbackLocaleCode).strings[t]}var e={...n};if(r)for(var i in n)n[i]=this.formatValue(n[i],o);return s.chooser(n,e)}}}));